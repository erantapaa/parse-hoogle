-- Hoogle documentation, generated by Haddock
-- See Hoogle, http://www.haskell.org/hoogle/


-- | Extract substructures from JSON by following a path.
--   
--   Use this library to extract substructures from JSON structures by
--   following a path. Path components can select elements by key or index,
--   map over arrays, or invoke user-specified functions. Works with JSONb
--   types.
--   
--   Suggestions and patches are welcome.
@package jspath
@version 0.1


-- | Extract substructures from JSON structures by following a path.
module Text.JSONb.Path

-- | Selects an element from a collection. Abstract.
data Selector

-- | Select from an <tt>Object</tt> by key.
key :: String -> Selector

-- | Select from an <tt>Array</tt> by index.
idx :: Int -> Selector

-- | A <tt><a>Path</a></tt> is used to traverse a <tt>JSON</tt> structure
--   and yield zero or more substructures.
data Path

-- | Yield nothing.
Fail :: Path

-- | Yield this structure.
Yield :: Path

-- | Select an element and continue on some path.
(:=>) :: Selector -> Path -> Path

-- | Follow a path for each <tt>Array</tt> element.
All :: Path -> Path

-- | Choose a path programmatically.
Compute :: (JSON -> Path) -> Path

-- | Follow a path to get all matching substructures.
get :: Path -> JSON -> [JSON]

-- | Follow a path to get the first matching substructure.
getOne :: Path -> JSON -> Maybe JSON
