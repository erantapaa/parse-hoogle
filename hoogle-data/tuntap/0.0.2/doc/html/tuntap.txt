-- Hoogle documentation, generated by Haddock
-- See Hoogle, http://www.haskell.org/hoogle/


-- | Interface to TUN/TAP drivers.
--   
--   TUN/TAP is a virtual network adapter supported by serveral operating
--   systems.
@package tuntap
@version 0.0.2

module Network.TUNTAP

-- | Allocate a TAP resource
start :: IO TAP

-- | Deallocate a TAP resource
finish :: TAP -> IO CInt

-- | Open the TAP device
openTAP :: TAP -> String -> IO CInt

-- | Close the TAP device
closeTAP :: TAP -> IO CInt

-- | Bring up the TAP device
bringUp :: TAP -> IO CInt

-- | Set the MTU of the TAP device
setMTU :: TAP -> Int -> IO CInt

-- | Set the IPv4 address of the TAP device
setIP :: TAP -> Word32 -> IO CInt

-- | Set the network mask of the TAP device
setMask :: TAP -> Word32 -> IO CInt

-- | Get the MAC address assigned to the TAP device
getMAC :: TAP -> IO DevMAC
data TAP

-- | Read<i>Written to the TUN</i>TAP device.
type Packet = ByteString

-- | A DevMAC is a hardware address 48 bits long.
type DevMAC = [Word8]

-- | Read a packet from the TAP device
readTAP :: TAP -> IO Packet

-- | Write a packet to the TAP device
writeTAP :: TAP -> Packet -> IO CInt

-- | Accept an action and an MTU. Allocate a TAP and pass it to the action.
--   Clean up when finished with the action.
withTAP :: Int -> (TAP -> IO a) -> IO ()
instance Show TAP
