-- Hoogle documentation, generated by Haddock
-- See Hoogle, http://www.haskell.org/hoogle/


-- | Nice wrapper around POSIX fcntl advisory locks
--   
--   <a>System.Posix.IO</a> has very low-level bindings to POSIX fcntl
--   advisory locks. This module wraps them in a cleaner API.
@package posix-filelock
@version 0.1

module System.Posix.FileLock

-- | Get a lock of the given type on the given path
lock :: MonadIO m => FilePath -> LockType -> m FileLock

-- | Release a lock
unlock :: MonadIO m => FileLock -> m ()

-- | Gets the lock, executes the IO action, and then releases the lock.
--   Releases the lock even if an exception occurs.
withLock :: MonadIO m => FilePath -> LockType -> IO a -> m a
data FileLock
data LockType
ReadLock :: LockType
WriteLock :: LockType
instance Eq LockType
instance Show LockType
instance Read LockType
