-- Hoogle documentation, generated by Haddock
-- See Hoogle, http://www.haskell.org/hoogle/


-- | A web service framework for Haskell, similar in purpose to dropwizard.
--   
@package moonshine
@version 2.0.0.0

module Web.Moonshine

-- | The moonshine monad.
data Moonshine a

-- | Execute an insance of the Moonshine monad. This starts up a server and
--   never returns.
runMoonshine :: Moonshine a -> IO a

-- | Like <a>route</a>, but that automatically sets up metrics for the
--   specified routes.
route :: [(ByteString, Moonshine ())] -> Moonshine ()

-- | Make a new timer with the given name.
makeTimer :: Text -> Moonshine Timer

-- | Add a time to a timer.
timerAdd :: (Real time, MonadIO io) => Timer -> time -> io ()

-- | The Timer type.
data Timer

-- | Wrap a <a>Moonshine</a> in a timer, so that timing data for
--   invocations will be logged to the metrics handler.
timed :: Text -> Moonshine a -> Moonshine a

-- | Lifts a snap action into a moonshine action.
liftSnap :: Snap () -> Moonshine ()

-- | Lift a computation from the <a>IO</a> monad.
liftIO :: MonadIO m => forall a. IO a -> m a

-- | Sets the banner that moonshine should display on startup.
setBanner :: String -> IO ()

-- | Time how long it takes to perform some kind of IO. This function is
--   compatible with any <a>MonadIO</a>.
timedIO :: MonadIO io => Timer -> io a -> io a

-- | Create a new gauge with the given name.
makeGauge :: Text -> Moonshine Gauge

-- | Add one to a gauge value.
gaugeInc :: MonadIO io => Gauge -> io ()

-- | Subtract one from a gauge value.
gaugeDec :: MonadIO io => Gauge -> io ()

-- | Set the gauge the a specific value one from a gauge value.
gaugeSet :: MonadIO io => Gauge -> Int64 -> io ()

-- | Add a value to a gauge.
gaugeAdd :: MonadIO io => Gauge -> Int64 -> io ()

-- | Subtrace a value from a gauge.
gaugeSubtract :: MonadIO io => Gauge -> Int64 -> io ()

-- | The Gauge type.
data Gauge
instance Generic Scheme
instance Generic ConnectorConfig
instance Generic ServerConfig
instance Show Opt
instance Datatype D1Scheme
instance Constructor C1_0Scheme
instance Constructor C1_1Scheme
instance Datatype D1ConnectorConfig
instance Constructor C1_0ConnectorConfig
instance Selector S1_0_0ConnectorConfig
instance Selector S1_0_1ConnectorConfig
instance Selector S1_0_2ConnectorConfig
instance Selector S1_0_3ConnectorConfig
instance Datatype D1ServerConfig
instance Constructor C1_0ServerConfig
instance Selector S1_0_0ServerConfig
instance Selector S1_0_1ServerConfig
instance FromJSON MoonshineConfig
instance FromJSON Scheme
instance FromJSON ConnectorConfig
instance FromJSON ServerConfig
instance MonadIO Moonshine
instance Functor Moonshine
instance Applicative Moonshine
instance Monad Moonshine
