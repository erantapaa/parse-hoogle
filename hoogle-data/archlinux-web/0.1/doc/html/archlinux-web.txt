-- Hoogle documentation, generated by Haddock
-- See Hoogle, http://www.haskell.org/hoogle/


-- | Website maintenance for Arch Linux packages
--   
--   Website maintenance for Arch Linux packages
--   
--   To get info about a package:
--   
--   <pre>
--   info "xmonad"
--   </pre>
--   
--   To find packages matching a string:
--   
--   <pre>
--   search "xmonad"
--   </pre>
--   
--   To find packages owned by a maintainer:
--   
--   <pre>
--   maintainer "arch-haskell"
--   </pre>
--   
--   Generate an html page of interesting facts about packages in AUR and
--   Hackage.
--   
--   <pre>
--   report ["xmonad"]
--   </pre>
--   
--   See also the cabal2arch tool
--   <a>http://hackage.haskell.org/package/cabal2arch</a> for conversion
--   between Hackage and AUR.
@package archlinux-web
@version 0.1


-- | Support for querying the AUR database.
module Distribution.ArchLinux.AUR

-- | Type for AUR RPC responses.
data AURInfo
AURInfo :: Integer -> String -> String -> Either String (Version, String) -> Integer -> String -> Integer -> String -> FilePath -> String -> Integer -> Bool -> AURInfo

-- | unique ID of the package on AUR
packageID :: AURInfo -> Integer

-- | url of AUR package
packageURLinAUR :: AURInfo -> String

-- | string name of package
packageName :: AURInfo -> String

-- | either the AUR version (version,rev) or a string
packageVersion :: AURInfo -> Either String (Version, String)

-- | numeric category of the package (e.g. 17 == System)
packageCategory :: AURInfo -> Integer

-- | package synopsis
packageDesc :: AURInfo -> String

-- | which repository is it stored in (community, AUR etc)
packageLocation :: AURInfo -> Integer

-- | url (sanity check: should be hackage url mostly)
packageURL :: AURInfo -> String

-- | url path to package source.
packagePath :: AURInfo -> FilePath

-- | type of license
packageLicense :: AURInfo -> String

-- | votes on package
packageVotes :: AURInfo -> Integer

-- | is the package flagged as out of date
packageOutOfDate :: AURInfo -> Bool

-- | Query AUR for information on a package
--   
--   <pre>
--   $ info "xmonad"
--   
--   Right (AURInfo { packageID       = 10593
--                , packageName     = "xmonad"
--                , packageVersion  = Right (Version {versionBranch = [0,8,1] , versionTags = []},"1.2")i
--                , packageCategory = 17
--                , packageDesc     = "A lightweight X11 tiled window manager written in Haskell"
--                , packageLocation = 3
--                , packageURL      = "http://xmonad.org/"
--                , packagePath     = "/packages/xmonad/xmonad.tar.gz"
--                , packageLicense = "custom:BSD3"
--                , packageVotes = 260
--                , packageOutOfDate = False })
--   </pre>
info :: String -> IO (Either String AURInfo)

-- | Search AUR for packages matching pattern. Returns a list of info
--   results.
search :: String -> IO [AURInfo]

-- | Search AUR for packages owned by maintainer. Returns a list of info
--   results.
maintainer :: String -> IO [AURInfo]

-- | Return the parsed PKGBUILD pkgbuild :: String -&gt; IO (Either String
--   [String]) -- (Either String PkgBuild)
package :: String -> IO (Either String AURInfo, Either String AnnotatedPkgBuild)
instance Show AURInfo
instance Show AURMaintainer
instance Show Name
instance Show AURRequest
instance JSON AURSearch
instance JSON AURInfo
instance JSON AURMaintainer
instance Pretty Name
instance Pretty AURRequest


-- | Construct reports about a set of packages in AUR
module Distribution.ArchLinux.Report

-- | Take as input a list of package names, return an html page with
--   interesting facts about the state of the packages.
report :: [String] -> IO String

-- | Load a table of packag names associated with their latest versions
loadPackageIndex :: IO (Map String Version)
instance NFData AnnotatedPkgBuild
instance NFData AURInfo
instance NFData Version
instance NFData (IO a)
