-- Hoogle documentation, generated by Haddock
-- See Hoogle, http://www.haskell.org/hoogle/


-- | Serialize JSON data to/from Haskell using the data-object library.
--   
--   Serialize JSON data to/from Haskell using the data-object library.
@package data-object-json
@version 0.3.1.6


-- | A simple wrapper around the json-b library which presents values
--   inside <a>Object</a>s.
module Data.Object.Json

-- | Matches the scalar data types used in json-b so we can have proper
--   mapping between the two libraries.
data JsonScalar
JsonString :: ByteString -> JsonScalar
JsonNumber :: Rational -> JsonScalar
JsonBoolean :: Bool -> JsonScalar
JsonNull :: JsonScalar

-- | Meant to match closely with the <a>JSON</a> data type. Therefore, uses
--   strict byte strings for keys and the <a>JsonScalar</a> type for
--   scalars.
type JsonObject = Object ByteString JsonScalar
class Eq a => IsJsonScalar a
fromJsonScalar :: IsJsonScalar a => JsonScalar -> a
toJsonScalar :: IsJsonScalar a => a -> JsonScalar
toJsonObject :: ConvertSuccess k ByteString => IsJsonScalar v => Object k v -> JsonObject
fromJsonObject :: ConvertSuccess ByteString k => IsJsonScalar v => JsonObject -> Object k v

-- | Encode a <a>JsonObject</a> into a lazy bytestring.
encode :: (ConvertSuccess k ByteString, IsJsonScalar v) => Object k v -> ByteString
encodeFile :: (ConvertSuccess k ByteString, IsJsonScalar v) => FilePath -> Object k v -> IO ()

-- | Decode a lazy bytestring into a <a>JsonObject</a>.
decode :: Failure JsonDecodeError m => ConvertSuccess ByteString k => IsJsonScalar v => ByteString -> m (Object k v)
decodeFile :: Failure JsonDecodeError m => ConvertSuccess ByteString k => IsJsonScalar v => FilePath -> IO (m (Object k v))

-- | Error type for JSON decoding errors.
data JsonDecodeError
instance Typeable JsonScalar
instance Typeable JsonDecodeError
instance Eq JsonScalar
instance Show JsonScalar
instance Read JsonScalar
instance Data JsonScalar
instance Show JsonDecodeError
instance Exception JsonDecodeError
instance IsJsonScalar ByteString
instance IsJsonScalar ByteString
instance IsJsonScalar [Char]
instance IsJsonScalar Text
instance IsJsonScalar Text
instance IsJsonScalar JsonScalar
instance IsString JsonScalar
