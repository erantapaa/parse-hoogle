-- Hoogle documentation, generated by Haddock
-- See Hoogle, http://www.haskell.org/hoogle/


-- | Run digestive-functors forms against JSON
--   
@package digestive-functors-aeson
@version 1.1.16


-- | Run digestive-functors forms against JSON.
module Text.Digestive.Aeson

-- | Given a JSON document and a form, attempt to use the JSON document to
--   evaluation the form. If the form fails validation, then <a>Nothing</a>
--   is returned.
--   
--   Example:
--   
--   <pre>
--   import Data.Aeson (json)
--   import Data.Attoparsec.Lazy (parse, maybeResult)
--   import Text.Digestive.Aeson (digestJSON)
--   ...
--   Just parsedJson &lt;- maybeResult . parse json &lt;$&gt; fetchJsonText
--   digestJSON "" myForm parsedJson
--   </pre>
digestJSON :: Monad m => Form v m a -> Value -> m (View v, Maybe a)

-- | Takes a <a>View</a> and displays any errors in a hierachical format
--   that matches the expected input.
--   
--   Example:
--   
--   <pre>
--   &gt; jsonErrors myForm
--   {"person":{"name":"This field is required"}}
--   </pre>
jsonErrors :: ToJSON a => View a -> Value
