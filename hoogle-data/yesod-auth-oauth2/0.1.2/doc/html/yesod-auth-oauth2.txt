-- Hoogle documentation, generated by Haddock
-- See Hoogle, http://www.haskell.org/hoogle/


-- | OAuth 2.0 authentication plugins
--   
@package yesod-auth-oauth2
@version 0.1.2


-- | Generic OAuth2 plugin for Yesod
--   
--   <ul>
--   <li>See Yesod.Auth.OAuth2.GitHub for example usage.</li>
--   </ul>
module Yesod.Auth.OAuth2
authOAuth2 :: YesodAuth m => Text -> OAuth2 -> (Manager -> AccessToken -> IO (Creds m)) -> AuthPlugin m
oauth2Url :: Text -> AuthRoute

-- | Handle the common case of fetching Profile information a JSON endpoint
--   
--   Throws <tt><a>InvalidProfileResponse</a></tt> if JSON parsing fails
fromProfileURL :: FromJSON a => Text -> URI -> (a -> Creds m) -> Manager -> AccessToken -> IO (Creds m)

-- | Provider name and Aeson parse error
data YesodOAuth2Exception
InvalidProfileResponse :: Text -> ByteString -> YesodOAuth2Exception
instance Typeable YesodOAuth2Exception
instance Show YesodOAuth2Exception
instance Exception YesodOAuth2Exception


-- | OAuth2 plugin for <a>http://github.com</a>
--   
--   <ul>
--   <li>Authenticates against github</li>
--   <li>Uses github user id as credentials identifier</li>
--   <li>Returns first_name, last_name, and email as extras</li>
--   </ul>
module Yesod.Auth.OAuth2.Github
oauth2Github :: YesodAuth m => Text -> Text -> AuthPlugin m
oauth2GithubScoped :: YesodAuth m => Text -> Text -> [Text] -> AuthPlugin m
instance FromJSON GithubUserEmail
instance FromJSON GithubUser


-- | OAuth2 plugin for <a>http://www.google.com</a>
--   
--   <ul>
--   <li>Authenticates against Google</li>
--   <li>Uses Google user id or email as credentials identifier</li>
--   <li>Returns given_name, family_name, email, and avatar_url as
--   extras</li>
--   </ul>
--   
--   Note: This may eventually replace Yesod.Auth.GoogleEmail2. Currently
--   it provides the same functionality except that GoogleEmail2 returns
--   more profile information.
module Yesod.Auth.OAuth2.Google

-- | Auth with Google
--   
--   Requests <tt>openid</tt> and <tt>email</tt> scopes and uses email as
--   the <tt><a>Creds</a></tt> identifier.
oauth2Google :: YesodAuth m => Text -> Text -> AuthPlugin m

-- | Auth with Google
--   
--   Requests custom scopes and uses email as the <tt><a>Creds</a></tt>
--   identifier.
oauth2GoogleScoped :: YesodAuth m => [Text] -> Text -> Text -> AuthPlugin m

-- | Auth with Google
--   
--   Requests custom scopes and uses the given function to create
--   credentials which allows for using any attribute as the identifier.
--   
--   See <tt><a>emailUid</a></tt> and <tt><a>googleUid</a></tt>.
oauth2GoogleScopedWithCustomId :: YesodAuth m => (GoogleUser -> AccessToken -> Creds m) -> [Text] -> Text -> Text -> AuthPlugin m

-- | Build a <tt><a>Creds</a></tt> using the user's google-uid as the
--   identifier
googleUid :: GoogleUser -> AccessToken -> Creds m

-- | Build a <tt><a>Creds</a></tt> using the user's email as the identifier
emailUid :: GoogleUser -> AccessToken -> Creds m
instance FromJSON GoogleUser


-- | OAuth2 plugin for <a>http://spotify.com</a>
module Yesod.Auth.OAuth2.Spotify
oauth2Spotify :: YesodAuth m => Text -> Text -> [ByteString] -> AuthPlugin m
instance FromJSON SpotifyUser
instance FromJSON SpotifyUserImage

module Yesod.Auth.OAuth2.Twitter
oauth2Twitter :: YesodAuth m => Text -> Text -> AuthPlugin m
instance FromJSON TwitterUser


-- | OAuth2 plugin for <a>http://upcase.com</a>
--   
--   <ul>
--   <li>Authenticates against upcase</li>
--   <li>Uses upcase user id as credentials identifier</li>
--   <li>Returns first_name, last_name, and email as extras</li>
--   </ul>
module Yesod.Auth.OAuth2.Upcase
oauth2Upcase :: YesodAuth m => Text -> Text -> AuthPlugin m
instance FromJSON UpcaseResponse
instance FromJSON UpcaseUser
