-- Hoogle documentation, generated by Haddock
-- See Hoogle, http://www.haskell.org/hoogle/


-- | Library to interact with the Mollom anti-spam service
--   
--   Library to interact with the Mollom anti-spam service
@package hMollom
@version 0.2.2


-- | Internal data structures and functions to the Mollom service
module Network.Mollom.Internals
mollomApiVersion :: String
mollomTimeFormat :: [Char]
data MollomConfiguration
MollomConfiguration :: String -> String -> String -> MollomConfiguration
mcPublicKey :: MollomConfiguration -> String
mcPrivateKey :: MollomConfiguration -> String
mcAPIVersion :: MollomConfiguration -> String
data MollomError
MollomInternalError :: MollomError
MollomRefresh :: MollomError
MollomServerBusy :: MollomError
MollomNoMoreServers :: MollomError
HMollomError :: String -> MollomError
data MollomValue
MInt :: Int -> MollomValue
MBool :: Bool -> MollomValue
MDouble :: Double -> MollomValue
MString :: String -> MollomValue
data MollomServerList
UninitialisedServerList :: MollomServerList
MollomServerList :: [String] -> MollomServerList
instance Eq MollomValue
instance Ord MollomValue
instance Show MollomValue
instance Eq MollomError
instance Ord MollomError
instance Show MollomError
instance Eq MollomServerList
instance Ord MollomServerList
instance Show MollomServerList
instance Eq MollomConfiguration
instance Ord MollomConfiguration
instance Show MollomConfiguration
instance XmlRpcType MollomValue
instance Error MollomError


-- | Takes care of the authentication on behalf of a Mollom client.
module Network.Mollom.Auth
authenticate :: String -> String -> String -> String -> String
getMollomTime :: String -> String
getMollomNonce :: String
getAuthenticationInformation :: String -> String -> [(String, String)]


-- | Module that implements the Mollom monad stack We wrap the
--   configuration and the serverlist in a Reader and a State, respectively
module Network.Mollom.MollomMonad
type MollomMonad = ErrorT MollomError (StateT (Maybe SessionID) MollomState)
type MollomState = ReaderT MollomConfiguration (StateT MollomServerList IO)


-- | Interface to the Mollom API
module Network.Mollom

-- | request a list of Mollom servers that can handle a site's calls.
getServerList :: MollomMonad [String]

-- | asks Mollom whether the specified message is legitimate.
checkContent :: Maybe String -> Maybe String -> Maybe String -> Maybe String -> Maybe String -> Maybe String -> Maybe String -> Maybe String -> Maybe String -> MollomMonad [(String, MollomValue)]

-- | tells Mollom that the specified message was spam or otherwise abusive.
sendFeedback :: String -> MollomMonad Bool

-- | requests Mollom to generate a image CAPTCHA.
getImageCaptcha :: Maybe String -> MollomMonad [(String, MollomValue)]

-- | requests Mollom to generate an audio CAPTCHA
getAudioCaptcha :: Maybe String -> MollomMonad [(String, MollomValue)]

-- | requests Mollom to verify the result of a CAPTCHA.
checkCaptcha :: String -> Maybe String -> MollomMonad Bool

-- | retrieves usage statistics from Mollom.
getStatistics :: String -> MollomMonad Int

-- | return a status value.
verifyKey :: MollomMonad Bool

-- | analyze text and return its most likely language code.
detectLanguage :: String -> MollomMonad [[(String, MollomValue)]]

-- | add text to your site's custom text blacklist.
addBlacklistText :: String -> String -> String -> MollomMonad Bool

-- | remove text from your site's custom text blacklist.
removeBlacklistText :: String -> MollomMonad Bool

-- | return the contents of your site's custom text blacklist.
listBlacklistText :: MollomMonad [[(String, MollomValue)]]

-- | add a URL to your site's custom URL blacklist.
addBlacklistURL :: String -> MollomMonad Bool

-- | remove a URL from your site's custom URL blacklist.
removeBlacklistURL :: String -> MollomMonad Bool

-- | return the contents of your site's custom URL blacklist.
listBlacklistURL :: MollomMonad [[(String, MollomValue)]]
data MollomConfiguration
MollomConfiguration :: String -> String -> String -> MollomConfiguration
mcPublicKey :: MollomConfiguration -> String
mcPrivateKey :: MollomConfiguration -> String
mcAPIVersion :: MollomConfiguration -> String
data MollomValue
MInt :: Int -> MollomValue
MBool :: Bool -> MollomValue
MDouble :: Double -> MollomValue
MString :: String -> MollomValue
