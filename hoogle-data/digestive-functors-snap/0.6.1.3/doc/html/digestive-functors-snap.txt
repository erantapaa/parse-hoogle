-- Hoogle documentation, generated by Haddock
-- See Hoogle, http://www.haskell.org/hoogle/


-- | Snap backend for the digestive-functors library
--   
@package digestive-functors-snap
@version 0.6.1.3


-- | Module providing a Snap backend for the digestive-functors library
module Text.Digestive.Snap
type SnapPartPolicy = PartInfo -> PartUploadPolicy
data SnapFormConfig
SnapFormConfig :: Maybe Method -> Maybe FilePath -> UploadPolicy -> SnapPartPolicy -> SnapFormConfig

-- | Can be used to override the method detected by Snap, in case you e.g.
--   want to perform a <a>postForm</a> even in case of a GET request.
method :: SnapFormConfig -> Maybe Method
temporaryDirectory :: SnapFormConfig -> Maybe FilePath
uploadPolicy :: SnapFormConfig -> UploadPolicy
partPolicy :: SnapFormConfig -> SnapPartPolicy
defaultSnapFormConfig :: SnapFormConfig

-- | Runs a form with the HTTP input provided by Snap.
--   
--   Automatically picks between <a>getForm</a> and <a>postForm</a> based
--   on the request method. Set <a>method</a> in the <a>SnapFormConfig</a>
--   to override this behaviour.
runForm :: MonadSnap m => Text -> Form v m a -> m (View v, Maybe a)

-- | Runs a form with a custom upload policy, and HTTP input from snap.
--   
--   Automatically picks between <a>getForm</a> and <a>postForm</a> based
--   on request method. Set <a>method</a> in the <a>SnapFormConfig</a> to
--   override this behaviour.
runFormWith :: MonadSnap m => SnapFormConfig -> Text -> Form v m a -> m (View v, Maybe a)
