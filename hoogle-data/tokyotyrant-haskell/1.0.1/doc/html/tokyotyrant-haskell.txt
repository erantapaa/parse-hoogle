-- Hoogle documentation, generated by Haddock
-- See Hoogle, http://www.haskell.org/hoogle/


-- | FFI bindings to libtokyotyrant
--   
--   This package provides a thin FFI binding to the libtokyotyrant C
--   library shipped with Mikio Hirabayashi's Tokyo Tyrant.
--   (<a>http://tokyocabinet.sourceforge.net/tyrantdoc/</a>)
@package tokyotyrant-haskell
@version 1.0.1


-- | This module provides a thin FFI binding to the libtokyotyrant C
--   library shipped with Mikio Hirabayashi's Tokyo Tyrant.
--   (<a>http://tokyocabinet.sourceforge.net/tyrantdoc/</a>)
--   
--   It's intended to be imported qualified, e.g.: <tt> import qualified
--   Database.TokyoTyrant.FFI as TT </tt>
module Database.TokyoTyrant.FFI

-- | Open a connection to Tokyo Tyrant.
open :: ByteString -> Int -> IO (Either String Connection)

-- | Close a connection to Tokyo Tyrant
close :: Connection -> IO ()

-- | Get a value from the database
get :: Connection -> ByteString -> IO (Either String (Maybe ByteString))

-- | Store a value in the database (destructive, overwrites any existing
--   value)
put :: Connection -> ByteString -> ByteString -> IO (Either String ())

-- | Store a value in the database (non-destructive, does nothing if the
--   key already exists)
putKeep :: Connection -> ByteString -> ByteString -> IO (Either String ())

-- | Get multiple values from the database. On success, returns `Right
--   kvps`.
mget :: Connection -> [ByteString] -> IO (Either String [(ByteString, ByteString)])

-- | Put multiple values to the database.
mput :: Connection -> [(ByteString, ByteString)] -> IO (Either String ())

-- | Delete a value from the DB
delete :: Connection -> ByteString -> IO (Either String ())

-- | Delete all KVPs in the database.
vanish :: Connection -> IO (Either String ())

-- | Search keys by prefix. Returns a list of matching keys.
fwmkeys :: Connection -> ByteString -> Int -> IO (Either String [ByteString])

-- | A Tokyo Tyrant connection type. Wraps the <tt>TCRDB</tt> type from the
--   C library.
data Connection
instance Eq TConstant
instance Show TConstant
