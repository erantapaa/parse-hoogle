-- Hoogle documentation, generated by Haddock
-- See Hoogle, http://www.haskell.org/hoogle/


-- | Windows Azure ACS
--   
@package azure-acs
@version 0.0.1.1


-- | Provides API to request password token from WindowsAzure ACS. The
--   security token is needed by web applications and services that handle
--   authentication using ACS. Please refer to <a>ACS Management Service
--   API</a> for further information on ACS.
--   
--   Following piece of code illustrates the use of API
--   
--   <pre>
--   import Network.MicrosoftAzure.ACS
--   import Network.HTTP.Conduit
--   import Network.HTTP.Client.Conduit
--   import Network.Connection (TLSSettings (..))
--   import qualified Data.ByteString.Char8 as C
--   
--   main = do
--        acsCtx &lt;- acsContext (AcsInfo "blahblah-sb" (C.pack "<a>http://blahblah.servicebus.windows.net/"</a> ) (C.pack "owner") (C.pack "blahBlahBlahBlah"))
--        manager &lt;- newManagerSettings (mkManagerSettings (TLSSettingsSimple True False False) Nothing)
--        t1 &lt;- acsToken manager acsCtx
--        print t1
--   </pre>
module Network.MicrosoftAzure.ACS

-- | <a>AcsInfo</a> encapsulates the information needed to get the token
--   from Azure ACS:
--   
--   <ul>
--   <li>acs namespace</li>
--   <li>the relying party address</li>
--   <li>the issuer and</li>
--   <li>the issuer key.</li>
--   </ul>
data AcsInfo
AcsInfo :: String -> !ByteString -> !ByteString -> !ByteString -> AcsInfo

-- | An abstract datatype that keeps track of acs token expiry and gets a
--   new one as necessary.
data AcsContext

-- | synonym for the ACS password token
type AcsToken = Header

-- | construct the context object. This call does not perform any network
--   call yet.
acsContext :: AcsInfo -> IO AcsContext

-- | If a valid token is available, it is returned. Otherwise, requests
--   password a fresh password token from windows azure acs
--   
--   Refer to <a>HTTP Conduit</a> for information about creating and using
--   <a>Manager</a>
acsToken :: Manager -> AcsContext -> IO AcsToken
instance Eq AcsInfo
instance Show AcsInfo


-- | <b> DEPRECATED </b> Use <a>Network.MicrosoftAzure.ACS</a> instead.
--   
--   Provides API to request password token from WindowsAzure ACS. The
--   security token is needed by web applications and services that handle
--   authentication using ACS. Please refer to <a>ACS Management Service
--   API</a> for further information on ACS.
--   
--   Following piece of code illustrates the use of API
--   
--   <pre>
--   import Web.WindowsAzure.ACS 
--   import Network.HTTP.Conduit 
--   import Network.HTTP.Client.Conduit
--   import Network.Connection (TLSSettings (..))
--   import qualified Data.ByteString.Char8 as C
--   import Control.Concurrent
--   
--   main = do
--        acsCtx &lt;- acsContext (AcsInfo "blahblah-sb" (C.pack "<a>http://blahblah.servicebus.windows.net/"</a> ) (C.pack "owner") (C.pack "blahBlahBlahBlah"))
--        manager &lt;- newManagerSettings (mkManagerSettings (TLSSettingsSimple True False False) Nothing)
--        t1 &lt;- acsToken manager acsCtx
--        print t1
--   </pre>
module Web.WindowsAzure.ACS

-- | <a>AcsInfo</a> encapsulates the information needed to get the token
--   from Azure ACS:
--   
--   <ul>
--   <li>acs namespace</li>
--   <li>the relying party address</li>
--   <li>the issuer and</li>
--   <li>the issuer key.</li>
--   </ul>
data AcsInfo
AcsInfo :: String -> !ByteString -> !ByteString -> !ByteString -> AcsInfo

-- | An abstract datatype that keeps track of acs token expiry and gets a
--   new one as necessary.
data AcsContext

-- | synonym for the ACS password token
type AcsToken = Header

-- | construct the context object. This call does not perform any network
--   call yet.
acsContext :: AcsInfo -> IO AcsContext

-- | If a valid token is available, it is returned. Otherwise, requests
--   password a fresh password token from windows azure acs
--   
--   Refer to <a>HTTP Conduit</a> for information about creating and using
--   <a>Manager</a>
acsToken :: Manager -> AcsContext -> IO AcsToken
instance Eq AcsInfo
instance Show AcsInfo
