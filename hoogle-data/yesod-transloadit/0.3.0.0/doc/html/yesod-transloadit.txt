-- Hoogle documentation, generated by Haddock
-- See Hoogle, http://www.haskell.org/hoogle/


-- | Transloadit support for Yesod
--   
@package yesod-transloadit
@version 0.3.0.0

module Yesod.Transloadit

-- | Typeclass for your website to enable using Transloadit.
class YesodTransloadit master where transloaditRoot _ = "https://assets.transloadit.com/js/"
transloaditRoot :: YesodTransloadit master => master -> Text

-- | Smart constructor for Transloadit params
mkParams :: UTCTime -> Key -> Template -> Text -> Secret -> ParamsResult

-- | Calculate the signature, and embed Javascript to attach Transloadit to
--   the form.
transloadIt :: (YesodJquery m, YesodTransloadit m) => TransloaditParams -> WidgetT m IO Signature

-- | Helper method to pull the Transloadit response and the CSRF token
--   (named <tt>_token</tt>) from the request.
handleTransloadit :: (RenderMessage m FormMessage, YesodJquery m, YesodTransloadit m) => WidgetT m IO (Maybe Text)

-- | Helper method to grab the current CSRF token from the session. Returns
--   <a>mempty</a> if <a>Nothing</a> could be found.
tokenText :: (YesodJquery m, YesodTransloadit m) => WidgetT m IO Text

-- | Helper method to pull the nth <tt>StepResult</tt> for a given key from
--   the Transloadit response
nthStepResult :: AsValue s => Int -> Text -> Maybe s -> Maybe StepResult

-- | The result of the execution of a single step
data StepResult
resultId :: Lens' StepResult Text
name :: Lens' StepResult Text
baseName :: Lens' StepResult Text
extension :: Lens' StepResult Text
mime :: Lens' StepResult Text
field :: Lens' StepResult Text
url :: Lens' StepResult Text
sslUrl :: Lens' StepResult Text
type ParamsResult = Either ParamsError TransloaditParams
data ParamsError
UnknownError :: ParamsError
newtype Key
Key :: Text -> Key
key :: Key -> Text
newtype Template
Template :: Text -> Template
template :: Template -> Text
newtype Secret
Secret :: ByteString -> Secret
secret :: Secret -> ByteString
data TransloaditParams
type Signature = Text
instance Eq Secret
instance Show Secret
instance Eq Key
instance Show Key
instance Eq Template
instance Show Template
instance Show TransloaditParams
instance Show StepResult
instance Show TransloaditResponse
