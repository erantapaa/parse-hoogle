-- Hoogle documentation, generated by Haddock
-- See Hoogle, http://www.haskell.org/hoogle/


-- | Google OAuth2 token negotiation
--   
@package google-oauth2
@version 0.2.0

module Network.Google.OAuth2

-- | Pairs a client and its tokens
--   
--   This type is primarily so they can be cached together and not require
--   access the client id when using cached tokens
data Credentials
Credentials :: OAuth2Client -> OAuth2Tokens -> Credentials
credsClient :: Credentials -> OAuth2Client
credsTokens :: Credentials -> OAuth2Tokens

-- | OAuth2 client definition
--   
--   
--   <a>https://developers.google.com/console/help/new/#generatingoauth2</a>
data OAuth2Client
OAuth2Client :: !String -> !String -> OAuth2Client
clientId :: OAuth2Client -> !String
clientSecret :: OAuth2Client -> !String
type OAuth2Code = String
type OAuth2Scope = String
type OAuth2Token = String
data OAuth2Tokens
OAuth2Tokens :: !OAuth2Token -> !OAuth2Token -> !Int -> !String -> OAuth2Tokens
accessToken :: OAuth2Tokens -> !OAuth2Token
refreshToken :: OAuth2Tokens -> !OAuth2Token
expiresIn :: OAuth2Tokens -> !Int
tokenType :: OAuth2Tokens -> !String

-- | Get a valid access token with the given scopes
--   
--   If given, credentials are cached in a file, thus preventing the need
--   for any prompting on subsequent reuse. N.B. this function always
--   refreshes the access token before returning it.
getAccessToken :: OAuth2Client -> [OAuth2Scope] -> Maybe FilePath -> IO OAuth2Token

-- | Prompt the user for a verification code and exchange it for tokens
newCreds :: OAuth2Client -> [OAuth2Scope] -> IO Credentials

-- | Use the refresh token to get a new access token
refreshCreds :: Credentials -> IO Credentials

-- | Prompt the user for a verification code
promptForCode :: OAuth2Client -> [OAuth2Scope] -> IO OAuth2Code

-- | Exchange a verification code for tokens
exchangeCode :: OAuth2Client -> OAuth2Code -> IO OAuth2Tokens
instance Read OAuth2Client
instance Show OAuth2Client
instance Read OAuth2Tokens
instance Show OAuth2Tokens
instance Read Credentials
instance Show Credentials
instance FromJSON RefreshResponse
instance FromJSON OAuth2Tokens
