-- Hoogle documentation, generated by Haddock
-- See Hoogle, http://www.haskell.org/hoogle/


-- | A simple wrapper of In-App-Purchase receipt validate APIs.
--   
@package iap-verifier
@version 0.1.0.1


-- | This module is a simple wrapper of AppStore In-App-Purchase Receipt
--   Validate APIs. Example:
--   
--   <pre>
--   import Network.IAP.Verifier
--   main :: IO ()
--   main = do
--     receipt &lt;- readFile "./receipt"
--     result &lt;- verify defaultIAPSettings receipt
--     case result of
--       0 -&gt; putStrLn "OK"
--       _ -&gt; putStrLn "Fail"
--   </pre>
--   
--   For more information, please see
--   <a>https://developer.apple.com/library/ios/releasenotes/General/ValidateAppStoreReceipt/Introduction.html</a>.
module Network.IAP.Verifier

-- | In-App-Purchase Verify Settings.
data IAPSettings
IAPSettings :: String -> IAPSettings
verifyUrl :: IAPSettings -> String

-- | <a>IAPSettings</a> for production.
defaultIAPSettings :: IAPSettings

-- | <a>IAPSettings</a> for development.
sandboxIAPSettings :: IAPSettings

-- | A result of <a>verify</a>.
data Result
Result :: Int -> Result
status :: Result -> Int

-- | Exceptions thrown by <a>verify</a>.
data IAPException
UnknownJSONException :: ByteString -> IAPException
unUnknownJSONException :: IAPException -> ByteString
NoResponseException :: IAPException

-- | Verify your receipt. Throw <a>IAPException</a> when request is failed.
verify :: IAPSettings -> ByteString -> IO Result
instance Typeable IAPException
instance Show IAPException
instance Eq IAPException
instance Exception IAPException
instance FromJSON Result
instance ToJSON Result
instance Show IAPSettings
instance Show Result
