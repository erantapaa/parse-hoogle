-- Hoogle documentation, generated by Haddock
-- See Hoogle, http://www.haskell.org/hoogle/


-- | JSON-RPC client library
--   
--   hs-json-rpc is a library for writing JSON-RPC client applications in
--   Haskell.
@package hs-json-rpc
@version 0.0.0.1


-- | This module contains the client functionality of JSON-RPC, whose
--   specification may be read here
--   (<a>http://json-rpc.org/wiki/specification</a>) for version 1 and here
--   (<a>http://www.jsonrpc.org/spec.html</a>) for version 2.
--   
--   By convention, a notification is represented Haskell-side by a
--   function returning a IO (), given it doesn't care about the server's
--   response.
--   
--   Note that the functions returned by <a>remote</a>, <a>notify</a>,
--   <a>detailledRemote</a> and <a>detailledNotify</a> need not have
--   parameters.
module Network.JsonRpc.Client

-- | Call a remote function via JSON-RPC, using version 2 of the protocol
--   and HTTP POST as its transport
remote :: JsonRpcCall c => String -> String -> c

-- | Call a remote function via JSON-RPC, specifying the protocol's version
--   to use and customs elements to add to the request
detailledRemote :: JsonRpcCall c => JsonRpcVersion -> [Pair] -> String -> String -> c

-- | Call a remote notification on a JSON-RPC server, using version 2 of
--   the protocol and HTTP POST as its transport
notify :: JsonRpcNotification n => String -> String -> n

-- | Call a remote notification on a JSON-RPC server, specifying the
--   protocol's version to use and customs elements to add to the request
detailledNotify :: JsonRpcNotification n => JsonRpcVersion -> [Pair] -> String -> String -> n

-- | Type of functions representable in JSON-RPC
class JsonRpcCall a

-- | Datatype representing the protocol's version in use during a call or
--   notification.
data JsonRpcVersion
Version1 :: JsonRpcVersion
Version2 :: JsonRpcVersion

-- | Type of notifications representable in JSON-RPC
class JsonRpcNotification a

-- | The exception type returned by <a>Network.JsonRpc.Client</a>'s
--   functions when an error appens
data JsonRpcException
instance JsonRpcNotification (IO ())
instance (ToJSON a, JsonRpcNotification b) => JsonRpcNotification (a -> b)
instance FromJSON a => JsonRpcCall (IO a)
instance (ToJSON a, JsonRpcCall b) => JsonRpcCall (a -> b)
