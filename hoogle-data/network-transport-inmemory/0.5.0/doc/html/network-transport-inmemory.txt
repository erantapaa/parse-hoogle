-- Hoogle documentation, generated by Haddock
-- See Hoogle, http://www.haskell.org/hoogle/


-- | In-memory instantiation of Network.Transport
--   
@package network-transport-inmemory
@version 0.5.0


-- | In-memory implementation of the Transport API.
module Network.Transport.InMemory

-- | Create a new Transport.
--   
--   Only a single transport should be created per Haskell process (threads
--   can, and should, create their own endpoints though).
createTransport :: IO Transport

-- | Create a new Transport exposing internal state.
--   
--   Useful for testing and/or debugging purposes. Should not be used in
--   production. No guarantee as to the stability of the internals API.
createTransportExposeInternals :: IO (Transport, TransportInternals)
newtype TransportInternals
TransportInternals :: (TVar TransportState) -> TransportInternals

-- | Function that simulate failing connection between two endpoints, after
--   calling this function both endpoints will receive ConnectionEventLost
--   message, and all <tt>LocalConnectionValid</tt> connections will be put
--   into <tt>LocalConnectionFailed</tt> state.
breakConnection :: TransportInternals -> EndPointAddress -> EndPointAddress -> String -> IO ()
