-- Hoogle documentation, generated by Haddock
-- See Hoogle, http://www.haskell.org/hoogle/


-- | Generate C-like storable instances from datatypes
--   
@package c-storable-deriving
@version 0.1.2


-- | This primarily exports the CStorable typeclass, which may have its
--   methods automatically defaulted if it has a Generic instance. Then,
--   this instance can be transfered via the <a>Storable</a> constructor.
module Foreign.CStorable

-- | This typeclass is basically just a duplicate of <a>Storable</a>. It
--   exists because I can't easily modify <a>Storable</a>, as it is part of
--   base.
class CStorable a where cPeek p = fmap to $ gcPeek (castPtr p) cPoke p x = gcPoke (castPtr p) $ from x cAlignment = gcAlignment . from cSizeOf = gcSizeOf . from
cPeek :: CStorable a => Ptr a -> IO a
cPoke :: CStorable a => Ptr a -> a -> IO ()
cAlignment :: CStorable a => a -> Int
cSizeOf :: CStorable a => a -> Int

-- | Applying the <a>Storable</a> constructor to something which is
--   Storable gives it a corresponding CStorable instance.
newtype StorableWrap a
Storable :: a -> StorableWrap a
instance Storable a => CStorable (StorableWrap a)
